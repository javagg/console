define(["appsecute-api/lib/cclass","appsecute-api/lib/event","appsecute-api/lib/utils"],function(e,n,t){var u={ascending:-1,same:0,descending:1};return e.create(function(e){var i=new n("Queue Size Changed",this),r=function(){return t.isFunction(e)?e:function(){return u.same}}(),l=[],c=function(e,n){return r(e,n)},o=function(e){for(var n=null,t=null,i=null;e>0&&(n=e-1,t=l[n],i=l[e],c(t,i)<u.same);)l[e]=t,l[n]=i,e=n},a=function(e){for(var n=l.length-1,t=null,i=null,r=null;n>e&&(t=e+1,i=l[t],r=l[e],c(i,r)>u.same);)l[e]=i,l[t]=r,e=t};return{queueSizeChanged:i,add:function(e){var n=l.push(e)-1;o(n),i.trigger({queueSize:this.count()})},remove:function(e){var n=!1,t=0,u=0;for(u=0;u<l.length;u++)if(l[u]===e){n=!0,t=u;break}n&&(this.removeAtIndex(t),i.trigger({queueSize:this.count()}))},next:function(){if(l.length<=0)return null;var e=this.peek();return this.removeAtIndex(0),e},peek:function(){return l.length<=0?null:l[0]},peekAtIndex:function(e){return l.length<e||0>e?null:l[e]},removeAtIndex:function(e){l.length>=e&&e>=0&&(e<l.length-1&&(l[e]=l[l.length-1]),l.pop(),a(e),i.trigger({queueSize:this.count()}))},count:function(){return l.length}}})});
//# sourceMappingURL=priority-queue.js.map