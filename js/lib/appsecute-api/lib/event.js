define(["underscore","appsecute-api/lib/cclass","appsecute-api/lib/logger","appsecute-api/lib/utils"],function(e,t,n,i){return t.create(function(t,r){var c=r,o=t,u=[],s=new n("Event");return{destroy:function(){u=[]},subscribe:function(e,t){i.isFunction(e)&&u.push({listener:e,context:t})},unsubscribe:function(t){u=e.reject(u,function(e){return e.listener===t})},trigger:function(e){var t;for(t=0;t<u.length;t++)try{u[t].context?u[t].listener.apply(u[t].context,[e,o,c]):u[t].listener(e,o,c)}catch(n){s.error("Caught exception attempting to notify event listener of '"+o+"' event.\r\nException was: "+n)}}}})});
//# sourceMappingURL=event.js.map