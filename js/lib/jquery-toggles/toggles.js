$.fn.toggles=function(t){t=t||{};var e=$.extend({drag:!0,click:!0,text:{on:"ON",off:"OFF"},on:!1,animate:250,transition:"ease-in-out",checkbox:null,clicker:null,width:50,height:20,type:"compact"},t),i="select"==e.type;e.checkbox=$(e.checkbox),e.clicker&&(e.clicker=$(e.clicker));var o="margin-left "+e.animate+"ms "+e.transition,n={"-webkit-transition":o,"-moz-transition":o,transition:o},a={"-webkit-transition":"","-moz-transition":"",transition:""},c=function(t,o,c,s){var g=t.toggleClass("active").hasClass("active");if(s!==g){var r=t.find(".toggle-inner").css(n);if(t.find(".toggle-off").toggleClass("active"),t.find(".toggle-on").toggleClass("active"),e.checkbox.prop("checked",g),!i){var l=g?0:-o+c;r.css("margin-left",l),setTimeout(function(){r.css(a),r.css("margin-left",l)},e.animate)}}};return this.each(function(){var t=$(this),o=t.height(),n=t.width();o&&n||(t.height(o=e.height),t.width(n=e.width));var a='<div class="toggle-',s=$(a+'slide">'),g=$(a+'inner">'),r=$(a+'on">'),l=$(a+'off">'),h=$(a+'blob">'),f=o/2,m=n-f;if(r.css({height:o,width:m,textAlign:"center",textIndent:i?"":-f,lineHeight:o+"px"}).html(e.text.on),l.css({height:o,width:m,marginLeft:i?"":-f,textAlign:"center",textIndent:i?"":f,lineHeight:o+"px"}).html(e.text.off).addClass("active"),h.css({height:o,width:o,marginLeft:-f}),g.css({width:2*n-o,marginLeft:i?0:-n+o}),i&&(s.addClass("toggle-select"),t.css("width",2*m),h.hide()),t.html(s.html(g.append(r,h,l))),s.on("toggle",function(e,i){e&&e.stopPropagation(),c(s,n,o),t.trigger("toggle",!i)}),t.on("toggleOn",function(){c(s,n,o,!1)}),t.on("toggleOff",function(){c(s,n,o,!0)}),e.on&&c(s,n,o),!e.click||e.clicker&&e.clicker.has(t).length||t.on("click touchstart",function(t){t.stopPropagation(),t.target==h[0]&&e.drag||s.trigger("toggle",s.hasClass("active"))}),e.clicker&&e.clicker.on("click touchstart",function(t){t.stopPropagation(),t.target==h[0]&&e.drag||s.trigger("toggle",s.hasClass("active"))}),e.drag&&!i){var u,d=(n-o)/4,v=function(i){t.off("mousemove touchmove"),s.off("mouseleave"),h.off("mouseup touchend");var a=s.hasClass("active");return!u&&e.click&&"mouseleave"!==i.type?void s.trigger("toggle",a):void(a?-d>u?s.trigger("toggle",a):g.animate({marginLeft:0},e.animate/2):u>d?s.trigger("toggle",a):g.animate({marginLeft:-n+o},e.animate/2))},p=-n+o;h.on("mousedown touchstart",function(e){u=0,h.off("mouseup touchend"),s.off("mouseleave");var i=e.pageX;t.on("mousemove touchmove",h,function(t){u=t.pageX-i;var e;s.hasClass("active")?(e=u,u>0&&(e=0),p>u&&(e=p)):(e=u+p,0>u&&(e=p),u>-p&&(e=0)),g.css("margin-left",e)}),h.on("mouseup touchend",v),s.on("mouseleave",v)})}})};
//# sourceMappingURL=toggles.js.map